<!DOCTYPE html>
<html lang="en-us" dir="ltr" id="developer-mozilla-org">
<!-- Mirrored from developer.mozilla.org/en/JavaScript/Reference/Global_Objects/eval by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 17 Dec 2010 14:56:13 GMT --><!-- Added by HTTrack --><head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<!-- /Added by HTTrack --><title>eval - MDC Doc Center</title>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="MSSmartTagsPreventParsing" content="true">
<meta name="ROBOTS" content="ALL">
<meta name="Copyright" content="Copyright (c) 2005-2010 Mozilla.">
<meta name="Rating" content="General">
<link rel="home" href="https://developer.mozilla.org/">
<link rel="copyright" href="#copyright">
<meta name="robots" content="index,follow">
<link rel="shortcut icon" href="../../../../favicon.ico">
<link rel="alternate" type="application/rss+xml" title="What's new feed" href="https://developer.mozilla.org/index.php?title=Special:Recentchanges&amp;feed=rss">
<link rel="alternate" type="application/rss+xml" title="Page and subpages changes feed" href="https://developer.mozilla.org/index.php?title=Special:Article&amp;type=feed&amp;feedtype=subpagechanges&amp;pageid=29112">
<link rel="alternate" type="application/rss+xml" title="Page changes feed" href="https://developer.mozilla.org/index.php?title=Special:Article&amp;type=feed&amp;pageid=29112">
<meta name="generator" content="MindTouch  9.12.3">
<link rel="search" type="application/opensearchdescription+xml" title="MDC Search" href="https://developer.mozilla.org/deki/gui/opensearch.php?type=description">
<link rel="stylesheet" type="text/css" media="screen" href="../../../../skins/common/css.css">
<!--[if IE 7]><style type="text/css">@import "/skins/common/_ie7.css";</style><![endif]--><!--[if IE 6]><style type="text/css">@import "/skins/common/_ie.css";</style><![endif]--><link rel="stylesheet" type="text/css" media="print" href="../../../../skins/common/print.css">
<link rel="stylesheet" type="text/css" media="screen,projection" href="../../../../skins/mdn/Transitional/css.css">
<!--[if lte IE 7]><link rel="stylesheet" type="text/css" media="all" href="/skins/mdn/Transitional/ie7.css"><![endif]--><!--[if lte IE 6]><link rel="stylesheet" type="text/css" media="all" href="/skins/mdn/Transitional/ie6.css"><![endif]--><link rel="stylesheet" type="text/css" media="print" href="../../../../skins/mdn/Transitional/print.css">
<script type="text/javascript" src="../../../../skins/common/js188f.php?perms=LOGIN,BROWSE,READ,SUBSCRIBE"></script><script type="text/javascript">var _starttime = new Date().getTime();</script><!--[if IE]>
<meta http-equiv="imagetoolbar" content="no">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--><script type="text/javascript">

		Deki.BaseHref = 'https://developer.mozilla.org/';
Deki.PageId = 29112;
Deki.PageTitle = 'en/JavaScript/Reference/Global Objects/eval';
Deki.PathTpl = '/skins/mdn';
Deki.PathSkin = '/skins/mdn/Transitional';
Deki.PathCommon = '/skins/common';
Deki.UserName = 'Anonymous';
Deki.Today = '17 Dec 2010';
Deki.EditorStyles = [];
Deki.EditorStyles.push('../../../../skins/mdn/_editor.css');
Deki.EditorStyles.push('../../../../skins/mdn/Transitional/_content.css');
Deki.EditorStyles.push('../../../../skins/common/custom_css.css');

		window.onbeforeunload = function() {
			if ( Deki.Editor && Deki.Editor.IsChanged() ) {
				return "You have made changes to the content without saving your changes. Are you sure you want to exit this page?";
			}
		};

		var aLt = new Array();aLt["attach-no-description"] = 'No description'; aLt["cancel"] = 'Cancel'; aLt["close"] = 'Close'; aLt["comment-delete"] = 'Are you sure you want to delete this comment?'; aLt["error"] = 'Error'; aLt["gallery-close"] = 'close'; aLt["gallery-next"] = 'next'; aLt["gallery-prev"] = 'prev'; aLt["internal-error"] = 'Sorry, but there was an internal problem - please try again soon.'; aLt["js-label_cancel"] = 'Cancel'; aLt["js-label_save"] = 'Save'; aLt["js-tooltip_cancel"] = 'Exit Without Saving Changes'; aLt["js-tooltip_save"] = 'Save and Exit (Alt+S)'; aLt["ldap-provide-credentials"] = 'Please provide external service login credentials.'; aLt["loading"] = 'Loading...'; aLt["menu-confirm-delete"] = 'Are you sure you want to delete this file?'; aLt["menu-delete-file"] = 'Delete'; aLt["menu-edit-description"] = 'Edit description'; aLt["menu-move-file"] = 'Move'; aLt["menu-previous-versions"] = 'Previous versions'; aLt["menu-view-original"] = 'View original'; aLt["print-end-notes"] = 'Endnotes'; aLt["ready"] = 'Ready'; aLt["remove-tag"] = 'Remove tag'; aLt["restore-tag"] = 'Restore tag'; aLt["save"] = 'Save'; aLt["submit"] = 'Submit'; aLt["wikibits-attach-another"] = 'Attach another file'; aLt["wikibits-attach-file"] = 'Attach File'; aLt["wikibits-cant-attach-editing"] = 'Sorry, you can\'t attach files while editing a page. Please close the editor first.'; aLt["wikibits-edit-section"] = 'Edit section'; aLt["wikibits-remove-file"] = 'Remove file';  var wfMsg = function (key) { return aLt[key] ? aLt[key] : 'MISSING: ' + key; };
	//hook in menu clicking events to the document's body
	YAHOO.util.Event.addListener(document, "click", function () { DWMenu.BodyClick(); });
	YAHOO.util.Event.onDOMReady(function () { new clientWindow });

			

			YAHOO.util.Event.onDOMReady(function() {
			tb_init("a.lightbox, area.lightbox, input.lightbox, a[rel='awesomebox']");//pass where to apply thickbox
			imgLoader = new Image();// preload image
			imgLoader.src = tb_pathToImage;
		});

		YAHOO.util.Event.onDOMReady(function() {
			MTComments.HookBehavior();
		});
		</script><link href="../../../../skins/common/custom_css.css" rel="stylesheet" type="text/css">
</head>
<div class="wrap">
  <div id="content-main" class="full">

    
        
    <article class="article PageDW-enJavaScriptReferenceGlobalObjectseval" role="main"><div class="page-title hideforedit">
            
              <h1 class="first" id="title">eval</h1>      
              </div>
      
    <div class="page-content boxed">

     
      
    
            
      <div id="page-top">
<div id="pageToc"><div class="pageToc">
<h5>Table of contents</h5>
<ol style="list-style-type:none; margin-left:0px; padding-left:0px;">
<li>
<span>1.</span> <a href="#Summary" rel="internal">Summary</a>
</li>
<li>
<span>2.</span> <a href="#Syntax" rel="internal">Syntax</a>
</li>
<li>
<span>3.</span> <a href="#Parameters" rel="internal">Parameters</a>
</li>
<li>
<span>4.</span> <a href="#Description" rel="internal">Description</a>
</li>
<li>
<span>5.</span> <a href="#Don't_use_eval!" rel="internal">Don't use eval!</a><ol style="list-style-type:none; margin-left:0px; padding-left:15px;">
<li>
<span>5.1.</span> <a href="#Accessing_member_properties" rel="internal">Accessing member properties</a>
</li>
<li>
<span>5.2.</span> <a href="#Use_functions_instead_of_evaluating_snippets_of_code" rel="internal">Use functions instead of evaluating snippets of code</a>
</li>
<li>
<span>5.3.</span> <a href="#Parsing_JSON_(converting_strings_to_JavaScript_objects)" rel="internal">Parsing JSON (converting strings to JavaScript objects)</a>
</li>
<li>
<span>5.4.</span> <a href="#Pass_data_instead_of_code" rel="internal">Pass data instead of code</a>
</li>
<li>
<span>5.5.</span> <a href="#Run_code_with_limited_privileges" rel="internal">Run code with limited privileges</a>
</li>
</ol>
</li>
<li>
<span>6.</span> <a href="#Cross-implementation_compatibility" rel="internal">Cross-implementation compatibility</a>
</li>
<li>
<span>7.</span> <a href="#Examples" rel="internal">Examples</a><ol style="list-style-type:none; margin-left:0px; padding-left:15px;">
<li>
<span>7.1.</span> <a href="#Example.3a_Using_eval" rel="internal">Example: Using eval</a>
</li>
<li>
<span>7.2.</span> <a href="#Example.3a_Using_eval_to_evaluate_a_string_of_JavaScript_statements" rel="internal">Example: Using eval to evaluate a string of JavaScript statements</a>
</li>
</ol>
</li>
<li>
<span>8.</span> <a href="#Return_value" rel="internal">Return value</a>
</li>
<li>
<span>9.</span> <a href="#See_also" rel="internal">See also</a>
</li>
</ol>
</div></div>
<div class="pageText" id="pageText">
<div id="section_1">
<span id="Summary"></span><h3 class="editable">Summary</h3>
<p><strong>Core Function</strong></p>
<p>Evaluates a string of JavaScript code without reference to a particular object.</p>
</div>
<div id="section_2">
<span id="Syntax"></span><h3 class="editable">Syntax</h3>
<p><code> eval(<em>string</em> [, <em>object</em>]) </code></p>
</div>
<div id="section_3">
<span id="Parameters"></span><h3 class="editable">Parameters</h3>
<dl>
<dt><code>string</code></dt> <dd>A string representing a JavaScript expression, statement, or sequence of statements. The expression can include variables and properties of existing objects.</dd> <dt><code>object</code></dt> <dd>
<span class="lang lang-en"><span class="nonStandardInlineTemplate" style="border: 1px solid rgb(255, 213, 153); background-color: rgb(255, 239, 217); font-size: x-small; white-space: nowrap; padding: 2px;">Non-standard</span></span>      <span class="lang lang-en"> <span class="obsoleteInlineTemplate" style="border: 1px solid rgb(255, 153, 153); background-color: rgb(255, 219, 219); font-size: x-small; white-space: nowrap; padding: 2px;">Obsolete</span> </span>      </dd> <dd>An optional argument; if specified, the evaluation is restricted to the context of the specified object.</dd>
</dl>
<div class="note">
<strong>Note:</strong> The second argument of eval was removed, since it was non-standard. See 
<a rel="external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=442333" class="external" title="Unable to access bug's page. Try reloading this page to see bug's status and summary in this tooltip.">
bug 
442333</a>
.</div>
</div>
<div id="section_4">
<span id="Description"></span><h3 class="editable">Description</h3>
<p><code>eval</code> is a top-level function and is not associated with any object.</p>
<p>The argument of the <code>eval</code> function is a string. If the string represents an expression, <code>eval</code> evaluates the expression. If the argument represents one or more JavaScript statements, <code>eval</code> performs the statements. Do not call <code>eval</code> to evaluate an arithmetic expression; JavaScript evaluates arithmetic expressions automatically.</p>
<p>If you construct an arithmetic expression as a string, you can use <code>eval</code> to evaluate it at a later time. For example, suppose you have a variable <code>x</code>. You can postpone evaluation of an expression involving <code>x</code> by assigning the string value of the expression, say "<code>3 * x + 2</code>", to a variable, and then calling <code>eval</code> at a later point in your script.</p>
<p>If the argument of <code>eval</code> is not a string, <code>eval</code> returns the argument unchanged. In the following example, the <code>String</code> constructor is specified, and <code>eval</code> returns a <code>String</code> object rather than evaluating the string.</p>
<pre>
eval(new String("2 + 2")); // returns a String object containing "2 + 2"
eval("2 + 2");             // returns 4
</pre>
<p>You can work around this limitation in a generic fashion by using <code>toString</code>.</p>
<pre>
var expression = new String("2 + 2");
eval(expression.toString());
</pre>
<p>You cannot indirectly use the <code>eval</code> function by invoking it via a name other than <code>eval</code>; if you do, a runtime error might occur. For example, you should not use the following code:</p>
<pre>
var x = 2;
var y = 4;
var myEval = eval;
myEval("x + y");
</pre>
</div>
<div id="section_5">
<span id="Don.27t_use_eval.21"></span><span id="Don't_use_eval!"></span><h3 class="editable">Don't use eval!</h3>
<p><code>eval()</code> is a dangerous function, which executes the code it's passed with the privileges of the caller. If you run <code>eval()</code> with a string that could be affected by a malicious party, you may end up running malicious code on the user's machine with the permissions of your webpage / extension. More importantly, third party code can see the scope in which <code>eval()</code> was invoked, which can lead to possible attacks in ways of which the similar <a rel="internal" href="Function.html">Function </a>is not susceptible.</p>
<p><code>eval()</code> is also generally slower than the alternatives, since it has to invoke the JS interpreter, while many other constructs are optimized by modern JS engines.</p>
<p>There are safe (and fast!) alternatives to <code>eval()</code> for common use-cases.</p>
<div id="section_6">
<span id="Accessing_member_properties"></span><h4 class="editable">Accessing member properties</h4>
<p>You should not use <code>eval</code> to convert property names into properties. Consider the following example. We don't know which property of the object we want to access. This can be done with eval:</p>
<pre>
var obj = { a: 20, b: 30 };
var propname = getPropName();  //returns "a" or "b"
eval( "var result = obj." + propname );
</pre>
<p>However <code>eval</code> is not necessary here. In fact, its use here is discouraged. Instead, use the <a rel="internal" href="../Operators/Member_Operators.html">member operators</a>, which are much faster and safer:</p>
<pre>
var obj = { a: 20, b: 30 };
var propname = getPropName();  //returns "a" or "b"
var result = obj[ propname ];  //  obj[ "a" ] is the same as obj.a 
</pre>
</div>
<div id="section_7">
<span id="Use_functions_instead_of_evaluating_snippets_of_code"></span><h4 class="editable">Use functions instead of evaluating snippets of code</h4>
<p>JavaScript has <a title="http://en.wikipedia.org/wiki/First-class_function" class=" external" rel="external nofollow" href="http://en.wikipedia.org/wiki/First-class_function" target="_blank">first-class functions</a>, which means you can pass functions as arguments to other APIs, store them in variables and objects' properties, and so on. Many DOM APIs are designed with this in mind, so you can (and should) write:</p>
<pre>
setTimeout(function() { ... }, 1000); // instead of setTimeout(" ... ", 1000);

elt.addEventListener("click", function() { ... } , false); // instead of elt.setAttribute("onclick", "...");
</pre>
<p><a rel="internal" href="https://developer.mozilla.org/en/JavaScript/Guide/Closures">Closures</a> are also helpful as a way to create parametrized functions without concatenating strings.</p>
</div>
<div id="section_8">
<span id="Parsing_JSON_(converting_strings_to_JavaScript_objects)"></span><h4 class="editable">Parsing JSON (converting strings to JavaScript objects)</h4>
<p>If the string you're calling <code>eval()</code> on contains data (for example, an array: <code>"[1, 2, 3]"</code>), as opposed to code, you should consider switching to <a rel="internal" href="https://developer.mozilla.org/en/JSON">JSON</a>, which allows the string to use a subset of JavaScript syntax to represent data. See also <a rel="internal" href="https://developer.mozilla.org/en/Downloading_JSON_and_JavaScript_in_extensions">Downloading JSON and JavaScript in extensions</a>.</p>
<p>Note that since JSON syntax is limited compared to JavaScript syntax, many valid JavaScript literals will not parse as JSON. For example, trailing commas are not allowed in JSON, and property names (keys) in object literals must be enclosed in quotes. Be sure to use a JSON serializer to generate the string, that will be later parsed as JSON.</p>
</div>
<div id="section_9">
<span id="Pass_data_instead_of_code"></span><h4 class="editable">Pass data instead of code</h4>
<p>For example, an extension designed to scrape contents of web-pages could have the scraping rules defined in <a rel="internal" href="https://developer.mozilla.org/en/XPath">XPath</a> instead of JavaScript code.</p>
</div>
<div id="section_10">
<span id="Run_code_with_limited_privileges"></span><h4 class="editable">Run code with limited privileges</h4>
<p>If must run code, consider running it with reduced privileges. This advice applies mainly to to extensions and XUL applications, which can use <a rel="internal" href="https://developer.mozilla.org/en/Components.utils.evalInSandbox">Components.utils.evalInSandbox</a> for this.</p>
</div>
</div>
<div id="section_11">
<span id="Cross-implementation_compatibility"></span><h3 class="editable">Cross-implementation compatibility</h3>
<p>It should be noted that the second optional parameter to <code>eval</code> is non-standard and not supported in all JavaScript implementations; at the time of this writing, for instance, <a rel="internal" href="https://developer.mozilla.org/en/Rhino">Rhino</a> doesn't support it, nor does Safari's JavaScriptCore.</p>
<div class="note">
<strong>Note:</strong> The second argument of eval was removed. See 
<a rel="external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=457068" class="external" title="Unable to access bug's page. Try reloading this page to see bug's status and summary in this tooltip.">
bug 
457068</a>
.<strong><br></strong>
</div>
<p>To maintain compatibility across implementations, it is recommended that the second parameter to <code>eval</code> not be used. To achieve the same effect, the <a rel="internal" href="../Statements/with.html">with statement</a> may be used. So rather than using</p>
<pre class="eval">
eval(<em>string</em>, <em>object</em>);
</pre>
<p>use</p>
<pre class="eval">
with (<em>object</em>) {
  eval(<em>string</em>);
}
</pre>
</div>
<div id="section_12">
<span id="Examples"></span><h3 class="editable">Examples</h3>
<p>The following examples display output using <code>document.write</code>. In server-side JavaScript, you can display the same output by calling the <code>write</code> function instead of using <code>document.write</code>.</p>
<div id="section_13">
<span id="Example:_Using_eval"></span><span id="Example.3a_Using_eval"></span><h4 class="editable">Example: Using <code>eval</code>
</h4>
<p>In the following code, both of the statements containing <code>eval</code> return 42. The first evaluates the string "<code>x + y + 1</code>"; the second evaluates the string "<code>42</code>".</p>
<pre>
var x = 2;
var y = 39;
var z = "42";
eval("x + y + 1"); // returns 42
eval(z);           // returns 42 
</pre>
</div>
<div id="section_14">
<span id="Example:_Using_eval_to_evaluate_a_string_of_JavaScript_statements"></span><span id="Example.3a_Using_eval_to_evaluate_a_string_of_JavaScript_statements"></span><h4 class="editable">Example: Using <code>eval</code> to evaluate a string of JavaScript statements</h4>
<p>The following example uses <code>eval</code> to evaluate the string <code>str</code>. This string consists of JavaScript statements that open an Alert dialog box and assign <code>z</code> a value of 42 if <code>x</code> is five, and assigns 0 to <code>z</code> otherwise. When the second statement is executed, <code>eval</code> will cause these statements to be performed, and it will also evaluate the set of statements and return the value that is assigned to <code>z</code>.</p>
<pre>
var x = 5;
var str = "if (x == 5) {alert('z is 42'); z = 42;} else z = 0; ";
document.write("&lt;P&gt;z is ", eval(str));
</pre>
</div>
</div>
<div id="section_15">
<span id="Return_value"></span><h3 class="editable">Return value</h3>
<p><code>eval</code> returns the value of the last expression evaluated.</p>
<pre>
var str = "if ( a ) { 1+1; } else { 1+2; }";
var a = true;
var b = eval(str);  // returns 2 
alert("b is : " + b);
a = false;
b = eval(str);  // returns 3
alert("b is : " + b);
</pre>
</div>
<div id="section_16">
<span id="See_also"></span><h3 class="editable">See also</h3>
<ul>
<li><a rel="internal" href="../Operators/Member_Operators.html">member operators</a></li>
</ul>
<p></p>
</div>
</div>
</div>
<div class="printfooter" id="printfooter">
<hr>
<p>Retrieved from "<a href="eval.html">https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/eval</a>"</p>
</div>

            </div>

    </article>

  </div>
<!-- /#content-main -->

</div>
<!-- /.wrap -->
<!-- Mirrored from developer.mozilla.org/en/JavaScript/Reference/Global_Objects/eval by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 17 Dec 2010 14:56:13 GMT --><!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8">
<!-- /Added by HTTrack -->
</html>
