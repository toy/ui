<!DOCTYPE html>
<html lang="en-us" dir="ltr" id="developer-mozilla-org">
<!-- Mirrored from developer.mozilla.org/en/DOM/window.mozRequestAnimationFrame by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 17 Dec 2010 12:17:24 GMT --><!-- Added by HTTrack --><head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<!-- /Added by HTTrack --><title>window.mozRequestAnimationFrame - MDC Doc Center</title>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="MSSmartTagsPreventParsing" content="true">
<meta name="ROBOTS" content="ALL">
<meta name="Copyright" content="Copyright (c) 2005-2010 Mozilla.">
<meta name="Rating" content="General">
<link rel="home" href="https://developer.mozilla.org/">
<link rel="copyright" href="#copyright">
<meta name="robots" content="index,follow">
<link rel="shortcut icon" href="../../favicon.ico">
<link rel="alternate" type="application/rss+xml" title="What's new feed" href="https://developer.mozilla.org/index.php?title=Special:Recentchanges&amp;feed=rss">
<link rel="alternate" type="application/rss+xml" title="Page and subpages changes feed" href="https://developer.mozilla.org/index.php?title=Special:Article&amp;type=feed&amp;feedtype=subpagechanges&amp;pageid=59867">
<link rel="alternate" type="application/rss+xml" title="Page changes feed" href="https://developer.mozilla.org/index.php?title=Special:Article&amp;type=feed&amp;pageid=59867">
<meta name="generator" content="MindTouch  9.12.3">
<link rel="search" type="application/opensearchdescription+xml" title="MDC Search" href="https://developer.mozilla.org/deki/gui/opensearch.php?type=description">
<link rel="stylesheet" type="text/css" media="screen" href="../../skins/common/css.css">
<!--[if IE 7]><style type="text/css">@import "/skins/common/_ie7.css";</style><![endif]--><!--[if IE 6]><style type="text/css">@import "/skins/common/_ie.css";</style><![endif]--><link rel="stylesheet" type="text/css" media="print" href="../../skins/common/print.css">
<link rel="stylesheet" type="text/css" media="screen,projection" href="../../skins/mdn/Transitional/css.css">
<!--[if lte IE 7]><link rel="stylesheet" type="text/css" media="all" href="/skins/mdn/Transitional/ie7.css"><![endif]--><!--[if lte IE 6]><link rel="stylesheet" type="text/css" media="all" href="/skins/mdn/Transitional/ie6.css"><![endif]--><link rel="stylesheet" type="text/css" media="print" href="../../skins/mdn/Transitional/print.css">
<script type="text/javascript" src="../../skins/common/js188f.php?perms=LOGIN,BROWSE,READ,SUBSCRIBE"></script><script type="text/javascript">var _starttime = new Date().getTime();</script><!--[if IE]>
<meta http-equiv="imagetoolbar" content="no">
<meta http-equiv="X-UA-Compatible" content="IE=Edge">
<script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--><script type="text/javascript">

		Deki.BaseHref = 'https://developer.mozilla.org/';
Deki.PageId = 59867;
Deki.PageTitle = 'en/DOM/window.mozRequestAnimationFrame';
Deki.PathTpl = '/skins/mdn';
Deki.PathSkin = '/skins/mdn/Transitional';
Deki.PathCommon = '/skins/common';
Deki.UserName = 'Anonymous';
Deki.Today = '17 Dec 2010';
Deki.EditorStyles = [];
Deki.EditorStyles.push('../../skins/mdn/_editor.css');
Deki.EditorStyles.push('../../skins/mdn/Transitional/_content.css');
Deki.EditorStyles.push('../../skins/common/custom_css.css');

		window.onbeforeunload = function() {
			if ( Deki.Editor && Deki.Editor.IsChanged() ) {
				return "You have made changes to the content without saving your changes. Are you sure you want to exit this page?";
			}
		};

		var aLt = new Array();aLt["attach-no-description"] = 'No description'; aLt["cancel"] = 'Cancel'; aLt["close"] = 'Close'; aLt["comment-delete"] = 'Are you sure you want to delete this comment?'; aLt["error"] = 'Error'; aLt["gallery-close"] = 'close'; aLt["gallery-next"] = 'next'; aLt["gallery-prev"] = 'prev'; aLt["internal-error"] = 'Sorry, but there was an internal problem - please try again soon.'; aLt["js-label_cancel"] = 'Cancel'; aLt["js-label_save"] = 'Save'; aLt["js-tooltip_cancel"] = 'Exit Without Saving Changes'; aLt["js-tooltip_save"] = 'Save and Exit (Alt+S)'; aLt["ldap-provide-credentials"] = 'Please provide external service login credentials.'; aLt["loading"] = 'Loading...'; aLt["menu-confirm-delete"] = 'Are you sure you want to delete this file?'; aLt["menu-delete-file"] = 'Delete'; aLt["menu-edit-description"] = 'Edit description'; aLt["menu-move-file"] = 'Move'; aLt["menu-previous-versions"] = 'Previous versions'; aLt["menu-view-original"] = 'View original'; aLt["print-end-notes"] = 'Endnotes'; aLt["ready"] = 'Ready'; aLt["remove-tag"] = 'Remove tag'; aLt["restore-tag"] = 'Restore tag'; aLt["save"] = 'Save'; aLt["submit"] = 'Submit'; aLt["wikibits-attach-another"] = 'Attach another file'; aLt["wikibits-attach-file"] = 'Attach File'; aLt["wikibits-cant-attach-editing"] = 'Sorry, you can\'t attach files while editing a page. Please close the editor first.'; aLt["wikibits-edit-section"] = 'Edit section'; aLt["wikibits-remove-file"] = 'Remove file';  var wfMsg = function (key) { return aLt[key] ? aLt[key] : 'MISSING: ' + key; };
	//hook in menu clicking events to the document's body
	YAHOO.util.Event.addListener(document, "click", function () { DWMenu.BodyClick(); });
	YAHOO.util.Event.onDOMReady(function () { new clientWindow });

			

			YAHOO.util.Event.onDOMReady(function() {
			tb_init("a.lightbox, area.lightbox, input.lightbox, a[rel='awesomebox']");//pass where to apply thickbox
			imgLoader = new Image();// preload image
			imgLoader.src = tb_pathToImage;
		});

		YAHOO.util.Event.onDOMReady(function() {
			MTComments.HookBehavior();
		});
		</script><link type="text/css" rel="stylesheet" href="../../deki/scripts/res/syntax/SyntaxHighlighter.css">
<script type="text/javascript" src="../../deki/scripts/res/syntax/shCore.js"></script><script type="text/javascript" src="../../deki/scripts/res/syntax/shBrushJScript.js"></script><link href="../../skins/common/custom_css.css" rel="stylesheet" type="text/css">
</head>
<div class="wrap">
  <div id="content-main" class="full">

    
        
    <article class="article PageDW-enDOMwindowmozRequestAnimationFrame" role="main"><div class="page-title hideforedit">
            
              <h1 class="first" id="title">window.mozRequestAnimationFrame</h1>      
              </div>
      
    <div class="page-content boxed">

     
      
    
            
      <div id="page-top">
<div id="pageToc"><div class="pageToc">
<h5>Table of contents</h5>
<ol style="list-style-type:none; margin-left:0px; padding-left:0px;">
<li>
<span>1.</span> <a href="#Summary" rel="internal">Summary</a>
</li>
<li>
<span>2.</span> <a href="#Syntax" rel="internal">Syntax</a>
</li>
<li>
<span>3.</span> <a href="#Parameters" rel="internal">Parameters</a>
</li>
<li>
<span>4.</span> <a href="#Example.3a.c2.a0Using_MozBeforeRepaint_events" rel="internal">Example: Using MozBeforeRepaint events</a>
</li>
<li>
<span>5.</span> <a href="#Example.3a.c2.a0Using_a_callback" rel="internal">Example: Using a callback</a>
</li>
<li>
<span>6.</span> <a href="#Notes" rel="internal">Notes</a>
</li>
<li>
<span>7.</span> <a href="#Specification" rel="internal">Specification</a>
</li>
<li>
<span>8.</span> <a href="#See_also" rel="internal">See also</a>
</li>
</ol>
</div></div>
<div class="pageText" id="pageText">
<p><span class="lang lang-en">« <a rel="internal" href="../Gecko_DOM_Reference.html">Gecko DOM Reference</a> </span></p>
<p><span class="lang lang-en">
<div class="geckoMinversionHeaderTemplate" style="border:solid 1px maroon; overflow:hidden; margin: 10px 0px; padding: 0px 10px; background-color: rgb(254, 244, 156); font-weight: bold; text-align: center;">
<p style="margin: 4px 0px;">Introduced in Gecko 2.0</p>

(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)
</div>
</span> 

</p>
<div style="overflow:hidden; border: 1px solid #FFB752; background-color: #FEE3BC; font-weight: bold; text-align: center; padding: 0px 10px 0px 10px; margin: 10px 0px 10px 0px;"><p style="margin: 4px 0px 4px 0px;">Non-standard</p></div>
<div id="section_1">
<span id="Summary"></span><h3 class="editable">Summary</h3>
<p>Tells the browser that you wish to perform an animation; this requests that the browser schedule a repaint of the window for the next animation frame.</p>
<p>There are two ways you can use this method:</p>
<ol>
<li>Specify a callback routine to be called when it's time to update your animation.  This callback will be passed the animation sampling time as its only argument.</li> <li>If you don't specify a callback, the browser will deliver a <code>MozBeforePaint</code> event before the repaint that occurs when it's time for your next animation frame, so you can update your animation.  The <code>timeStamp</code> property of the event will be the animation sampling time.</li>
</ol>
<p>You should call this whenever you're ready to update your animation onscreen, to request that your repaint be scheduled. You may be called up to 60 times per second for foreground tabs, but may be throttled to only one refresh per second for background tabs.</p>
<p>Both the event handler and callback routines receive a single input: a progress event that contains a <code>timeStamp</code> field indicating the time at which the animation frame is scheduled to occur.</p>
<div class="note">
<strong>Note:</strong> This method, and the corresponding 
<code><a rel="custom nofollow" href="window-118.html">window.onmozbeforepaint</a></code> event and 
<code><a rel="custom nofollow" href="window-27.html">window.mozAnimationStartTime</a></code> property are experimental and non-standard. They're intended for you to experiment with and offer feedback on. They may not be supported over the long term, although we hope that this API or one like it will become standard eventually.</div>
</div>
<div id="section_2">
<span id="Syntax"></span><h3 class="editable">Syntax</h3>
<pre class="eval">
window.mozRequestAnimationFrame([<em>callback</em>]);</pre>
</div>
<div id="section_3">
<span id="Parameters"></span><h3 class="editable">Parameters</h3>
<dl>
<dt>
<code>callback</code> <span class="lang lang-en"><span style="border: 1px solid #9ED2A4; background-color: #C0FFC7; font-size: x-small; white-space: nowrap; padding: 2px;">Optional</span></span> </dt> <dd>An optional parameter specifying a function to call when it's time to update your animation for the next repaint.</dd>
</dl>
</div>
<div id="section_4">
<span id="Example"></span><span id="Example.3a.c2.a0Using_MozBeforeRepaint_events"></span><h3 class="editable">Example: Using MozBeforeRepaint events</h3>

          <pre name="code" class="js">var start = window.mozAnimationStartTime;
function step(event) {
  var progress = event.timeStamp - start;
  d.style.left = Math.min(progress/10, 200) + "px";
  if (progress &lt; 2000) {
    window.mozRequestAnimationFrame();
  }
}
window.addEventListener("MozBeforePaint", step, false);
window.mozRequestAnimationFrame();</pre>
        
</div>
<div id="section_5">
<span id="Notes"></span><span id="Example.3a.c2.a0Using_a_callback"></span><h3 class="editable">Example: Using a callback</h3>

          <pre name="code" class="js">var start = window.mozAnimationStartTime;
function step(timestamp) {
  var progress = timestamp - start;
  d.style.left = Math.min(progress/10, 200) + "px";
  if (progress &lt; 2000) {
    window.mozRequestAnimationFrame(step);
  }
}
window.mozRequestAnimationFrame(step);</pre>
        </div>
<div id="section_6">
<span id="Notes"></span><h3 class="editable">Notes</h3>
<p>It's important to note that this method is one-shot; that is, you need to call it from your callback or <code>MozBeforePaint</code> event handler if you wish to update your animation again in the future.</p>
</div>
<div id="section_7">
<span id="Specification"></span><h3 class="editable">Specification</h3>
<p>Not part of specification.</p>
</div>
<div id="section_8">
<span id="See_also"></span><h3 class="editable">See also</h3>
<ul>
<li>
<code><a rel="custom nofollow" href="window-118.html">window.onmozbeforepaint</a></code>
</li> <li>
<code><a rel="custom nofollow" href="window-27.html">window.mozAnimationStartTime</a></code>
</li> <li>
<a class=" external" title="http://weblogs.mozillazine.org/roc/archives/2010/08/mozrequestanima.html" rel="external nofollow" href="http://weblogs.mozillazine.org/roc/archives/2010/08/mozrequestanima.html" target="_blank">mozRequestAnimationFrame</a> - Blog post</li>
</ul>
</div>
</div>
</div>
<div class="printfooter" id="printfooter">
<hr>
<p>Retrieved from "<a href="window-76.html">https://developer.mozilla.org/en/DOM/window.mozRequestAnimationFrame</a>"</p>
</div>

            </div>

    </article>

  </div>
<!-- /#content-main -->

</div>
<!-- /.wrap -->
<!-- Mirrored from developer.mozilla.org/en/DOM/window.mozRequestAnimationFrame by HTTrack Website Copier/3.x [XR&CO'2010], Fri, 17 Dec 2010 12:17:24 GMT --><!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8">
<!-- /Added by HTTrack -->
</html>
